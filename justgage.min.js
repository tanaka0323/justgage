function getColor(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,d=d||e.length>0;if(e.length>0)for(var t=0;t<e.length;t++)if(a>e[t].lo&&a<=e[t].hi)return e[t].color;if(f=c.length,1===f)return c[0];for(g=d?1/f:1/(f-1),h=[],t=0;t<c.length;t++)i=d?g*(t+1):g*t,j=parseInt(cutHex(c[t]).substring(0,2),16),k=parseInt(cutHex(c[t]).substring(2,4),16),l=parseInt(cutHex(c[t]).substring(4,6),16),h[t]={pct:i,color:{r:j,g:k,b:l}};if(0===b)return"rgb("+[h[0].color.r,h[0].color.g,h[0].color.b].join(",")+")";for(var u=0;u<h.length;u++)if(b<=h[u].pct)return d?"rgb("+[h[u].color.r,h[u].color.g,h[u].color.b].join(",")+")":(m=h[u-1],n=h[u],o=n.pct-m.pct,p=(b-m.pct)/o,q=1-p,r=p,s={r:Math.floor(m.color.r*q+n.color.r*r),g:Math.floor(m.color.g*q+n.color.g*r),b:Math.floor(m.color.b*q+n.color.b*r)},"rgb("+[s.r,s.g,s.b].join(",")+")")}function setDy(a){(!ie||ie>9)&&a.node.firstChild.attributes.dy&&(a.node.firstChild.attributes.dy.value=0)}function getRandomInt(a,b){return Math.floor(Math.random()*(b-a+1))+a}function cutHex(a){return"#"==a.charAt(0)?a.substring(1,7):a}function humanFriendlyNumber(a,b){var c,d,e,f;for(c=Math.pow,d=c(10,b),e=7;e;)f=c(10,3*e--),a>=f&&(a=Math.round(a*d/f)/d+"KMGTPE"[e]);return a}function formatNumber(a){var b=a.toString().split(".");return b[0]=b[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),b.join(".")}function getStyle(a,b){var c="";return document.defaultView&&document.defaultView.getComputedStyle?c=document.defaultView.getComputedStyle(a,"").getPropertyValue(b):a.currentStyle&&(b=b.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),c=a.currentStyle[b]),c}function onCreateElementNsReady(a){void 0!==document.createElementNS?a():setTimeout(function(){onCreateElementNsReady(a)},100)}JustGage=function(a){var b=this;if(null===a||void 0===a)return console.log("* justgage: Make sure to pass options to the constructor!"),!1;var c;if(null!==a.id&&void 0!==a.id){if(c=document.getElementById(a.id),!c)return console.log("* justgage: No element with id : %s found",a.id),!1}else{if(null===a.parentNode||void 0===a.parentNode)return console.log("* justgage: Make sure to pass the existing element id or parentNode to the constructor."),!1;c=a.parentNode}var d=c.dataset?c.dataset:{};b.config={id:a.id,parentNode:b.kvLookup("parentNode",a,d,null),width:b.kvLookup("width",a,d,null),height:b.kvLookup("height",a,d,null),title:b.kvLookup("title",a,d,""),titleFontColor:b.kvLookup("titleFontColor",a,d,"#999999"),value:b.kvLookup("value",a,d,0,"float"),valueFontColor:b.kvLookup("valueFontColor",a,d,"#010101"),symbol:b.kvLookup("symbol",a,d,""),min:b.kvLookup("min",a,d,0,"float"),max:b.kvLookup("max",a,d,100,"float"),humanFriendlyDecimal:b.kvLookup("humanFriendlyDecimal",a,d,0),textRenderer:b.kvLookup("textRenderer",a,d,null),gaugeWidthScale:b.kvLookup("gaugeWidthScale",a,d,1),gaugeColor:b.kvLookup("gaugeColor",a,d,"#edebeb"),label:b.kvLookup("label",a,d,""),labelFontColor:b.kvLookup("labelFontColor",a,d,"#b3b3b3"),labelClass:b.kvLookup("labelClass",a,d,""),shadowOpacity:b.kvLookup("shadowOpacity",a,d,.2),shadowSize:b.kvLookup("shadowSize",a,d,5),shadowVerticalOffset:b.kvLookup("shadowVerticalOffset",a,d,3),levelColors:b.kvLookup("levelColors",a,d,["#a9d70b","#f9c802","#ff0000"],"array",","),startAnimationTime:b.kvLookup("startAnimationTime",a,d,700),startAnimationType:b.kvLookup("startAnimationType",a,d,">"),refreshAnimationTime:b.kvLookup("refreshAnimationTime",a,d,700),refreshAnimationType:b.kvLookup("refreshAnimationType",a,d,">"),donutStartAngle:b.kvLookup("donutStartAngle",a,d,90),valueMinFontSize:b.kvLookup("valueMinFontSize",a,d,16),titleMinFontSize:b.kvLookup("titleMinFontSize",a,d,10),labelMinFontSize:b.kvLookup("labelMinFontSize",a,d,10),minLabelMinFontSize:b.kvLookup("minLabelMinFontSize",a,d,10),maxLabelMinFontSize:b.kvLookup("maxLabelMinFontSize",a,d,10),hideValue:b.kvLookup("hideValue",a,d,!1),hideMinMax:b.kvLookup("hideMinMax",a,d,!1),hideInnerShadow:b.kvLookup("hideInnerShadow",a,d,!1),humanFriendly:b.kvLookup("humanFriendly",a,d,!1),noGradient:b.kvLookup("noGradient",a,d,!1),shape:b.kvLookup("shape",a,d,0),relativeGaugeSize:b.kvLookup("relativeGaugeSize",a,d,!1),counter:b.kvLookup("counter",a,d,!1),decimals:b.kvLookup("decimals",a,d,0),customSectors:b.kvLookup("customSectors",a,d,[]),formatNumber:b.kvLookup("formatNumber",a,d,!1)};var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z;Raphael.el.addClass=function(a){return this.node.setAttribute("class",a),this},b.config.value>b.config.max&&(b.config.value=b.config.max),b.config.value<b.config.min&&(b.config.value=b.config.min),b.originalValue=b.kvLookup("value",a,d,-1,"float"),null!==b.config.id&&null!==document.getElementById(b.config.id)?b.canvas=Raphael(b.config.id,"100%","100%"):null!==b.config.parentNode&&(b.canvas=Raphael(b.config.parentNode,"100%","100%")),b.config.relativeGaugeSize===!0&&b.canvas.setViewBox(0,0,200,150,!0),b.config.relativeGaugeSize===!0?(e=200,f=150):null!==b.config.width&&null!==b.config.height?(e=b.config.width,f=b.config.height):null!==b.config.parentNode?(b.canvas.setViewBox(0,0,200,150,!0),e=200,f=150):(e=1*getStyle(document.getElementById(b.config.id),"width").slice(0,-2),f=1*getStyle(document.getElementById(b.config.id),"height").slice(0,-2)),0===b.config.shape?(e>f?(h=f,g=1.25*h,g>e&&(i=g/e,g/=i,h/=i)):f>e?(g=e,h=g/1.25,h>f&&(i=h/f,h/=i,g=h/i)):(g=e,h=.75*g),j=(e-g)/2,k=(f-h)/2,l=h/8>b.config.titleMinFontSize?h/10:b.config.titleMinFontSize,m=j+g/2,n=k+h/6.4,o=h/6.5>b.config.valueMinFontSize?h/6.5:b.config.valueMinFontSize,p=j+g/2,q=k+h/1.275,r=h/16>b.config.labelMinFontSize?h/16:b.config.labelMinFontSize,s=j+g/2,t=q+o/2+5,u=h/16>b.config.minLabelMinFontSize?h/16:b.config.minLabelMinFontSize,v=j+g/10+g/6.666666666666667*b.config.gaugeWidthScale/2,w=t,x=h/16>b.config.maxLabelMinFontSize?h/16:b.config.maxLabelMinFontSize,y=j+g-g/10-g/6.666666666666667*b.config.gaugeWidthScale/2,z=t):1===b.config.shape?(e>f?(h=f,g=h):f>e?(g=e,h=g,h>f&&(i=h/f,h/=i,g=h/i)):(g=e,h=g),j=(e-g)/2,k=(f-h)/2,l=h/8>10?h/10:10,m=j+g/2,n=k+h/11,o=h/6.4>16?h/5.4:18,p=j+g/2,q=""!==b.config.label?k+h/1.85:k+h/1.7,r=h/16>10?h/16:10,s=j+g/2,t=q+o/2,u=h/16>10?h/16:10,v=j+g/4+g/6.666666666666667*b.config.gaugeWidthScale/2,w=k+h/1.275+o/2,x=h/16>10?h/16:10,y=j+g-g/4-g/6.666666666666667*b.config.gaugeWidthScale/2,z=w):(e>f?(h=f,g=h):f>e?(g=e,h=g,h>f&&(i=h/f,h/=i,g=h/i)):(g=e,h=g),j=(e-g)/2,k=(f-h)/2,l=h/8>10?h/10:10,m=j+g/2,n=k+h/11,o=h/6.4>16?h/5.4:18,p=j+g/2,q=""!==b.config.label?k+h/1.85:k+h/1.7,r=h/16>10?h/16:10,s=j+g/2,t=q+o/2,u=h/16>10?h/16:10,v=j+g/10+g/6.666666666666667*b.config.gaugeWidthScale/2,w=t,x=h/16>10?h/16:10,y=j+g-g/10-g/6.666666666666667*b.config.gaugeWidthScale/2,z=t),b.params={canvasW:e,canvasH:f,widgetW:g,widgetH:h,dx:j,dy:k,titleFontSize:l,titleX:m,titleY:n,valueFontSize:o,valueX:p,valueY:q,labelFontSize:r,labelX:s,labelY:t,minFontSize:u,minX:v,minY:w,maxFontSize:x,maxX:y,maxY:z},z=null,b.canvas.customAttributes.pki=function(a,b,c,d,e,f,g,h,i){var j,k,l,m,n,o,p,q,r,s,t,u;return 0===i?(j=(1-(a-b)/(c-b))*Math.PI,k=d/2-d/10,l=k-d/6.666666666666667*h,m=d/2+f,n=e/1.25+g,o=d/2+f+k*Math.cos(j),p=e-(e-n)-k*Math.sin(j),q=d/2+f+l*Math.cos(j),r=e-(e-n)-l*Math.sin(j),s="M"+(m-l)+","+n+" ",s+="L"+(m-k)+","+n+" ",s+="A"+k+","+k+" 0 0 1 "+o+","+p+" ",s+="L"+q+","+r+" ",s+="A"+l+","+l+" 0 0 0 "+(m-l)+","+n+" ",s+="Z ",{path:s}):1===i?(t=a+-1*b,u=(c-b)/1.5,j=(1-1.5*(a-b)/(c-b))*Math.PI,k=d/2-d/7,l=k-d/6.666666666666667*h,m=d/2+f,n=e/1.95+g,o=d/2+f+k*Math.cos(j),p=e-(e-n)-k*Math.sin(j),q=d/2+f+l*Math.cos(j),r=e-(e-n)-l*Math.sin(j),s="M"+(m-l)+","+n+" ",s+="L"+(m-k)+","+n+" ",t>u&&(s+="A"+k+","+k+" 0 0 1 "+(m+k)+","+n+" "),s+="A"+k+","+k+" 0 0 1 "+o+","+p+" ",s+="L"+q+","+r+" ",t>u&&(s+="A"+l+","+l+" 0 0 0 "+(m+l)+","+n+" "),s+="A"+l+","+l+" 0 0 0 "+(m-l)+","+n+" ",s+="Z ",{path:s}):(t=a+-1*b,u=(c-b)/2,j=(1-2*(a-b)/(c-b))*Math.PI,k=d/2-d/7,l=k-d/6.666666666666667*h,m=d/2+f,n=e/1.95+g,o=d/2+f+k*Math.cos(j),p=e-(e-n)-k*Math.sin(j),q=d/2+f+l*Math.cos(j),r=e-(e-n)-l*Math.sin(j),s="M"+(m-l)+","+n+" ",s+="L"+(m-k)+","+n+" ",t>u&&(s+="A"+k+","+k+" 0 0 1 "+(m+k)+","+n+" "),s+="A"+k+","+k+" 0 0 1 "+o+","+p+" ",s+="L"+q+","+r+" ",t>u&&(s+="A"+l+","+l+" 0 0 0 "+(m+l)+","+n+" "),s+="A"+l+","+l+" 0 0 0 "+(m-l)+","+n+" ",s+="Z ",{path:s})},b.gauge=b.canvas.path().attr({stroke:"none",fill:b.config.gaugeColor,pki:[b.config.max,b.config.min,b.config.max,b.params.widgetW,b.params.widgetH,b.params.dx,b.params.dy,b.config.gaugeWidthScale,b.config.shape]}),b.level=b.canvas.path().attr({stroke:"none",fill:getColor(b.config.value,(b.config.value-b.config.min)/(b.config.max-b.config.min),b.config.levelColors,b.config.noGradient,b.config.customSectors),pki:[b.config.min,b.config.min,b.config.max,b.params.widgetW,b.params.widgetH,b.params.dx,b.params.dy,b.config.gaugeWidthScale,b.config.shape]}),0===b.config.shape||(1===b.config.shape?(b.gauge.transform("r-45"),b.level.transform("r-45, "+(b.params.widgetW/2+b.params.dx)+", "+(b.params.widgetH/1.95+b.params.dy))):b.level.transform("r"+b.config.donutStartAngle+", "+(b.params.widgetW/2+b.params.dx)+", "+(b.params.widgetH/1.95+b.params.dy))),b.txtTitle=b.canvas.text(b.params.titleX,b.params.titleY,b.config.title),b.txtTitle.attr({font:"","font-size":b.params.titleFontSize,fill:b.config.titleFontColor,"fill-opacity":"1"}),b.txtTitle.addClass(b.config.labelClass),setDy(b.txtTitle,b.params.titleFontSize,b.params.titleY),b.txtValue=b.canvas.text(b.params.valueX,b.params.valueY,0),b.txtValue.attr({font:"","font-size":b.params.valueFontSize,fill:b.config.valueFontColor,"fill-opacity":"0"}),b.txtValue.addClass(b.config.labelClass),setDy(b.txtValue,b.params.valueFontSize,b.params.valueY),b.txtLabel=b.canvas.text(b.params.labelX,b.params.labelY,b.config.label),b.txtLabel.attr({font:"","font-size":b.params.labelFontSize,fill:b.config.labelFontColor,"fill-opacity":"0"}),b.txtLabel.addClass(b.config.labelClass),setDy(b.txtLabel,b.params.labelFontSize,b.params.labelY),b.txtMinimum=b.config.min,b.config.humanFriendly?b.txtMinimum=humanFriendlyNumber(b.config.min,b.config.humanFriendlyDecimal):b.config.formatNumber&&(b.txtMinimum=formatNumber(b.config.min)),b.txtMin=b.canvas.text(b.params.minX,b.params.minY,b.txtMinimum),b.txtMin.attr({font:"","font-size":b.params.minFontSize,fill:b.config.labelFontColor,"fill-opacity":b.config.hideMinMax||2==b.config.shape?"0":"1"}),b.txtMin.addClass(b.config.labelClass),setDy(b.txtMin,b.params.minFontSize,b.params.minY),b.txtMaximum=b.config.max,b.config.formatNumber?b.txtMaximum=formatNumber(b.txtMaximum):b.config.humanFriendly&&(b.txtMaximum=humanFriendlyNumber(b.config.max,b.config.humanFriendlyDecimal)),b.txtMax=b.canvas.text(b.params.maxX,b.params.maxY,b.txtMaximum),b.txtMax.attr({font:"","font-size":b.params.maxFontSize,fill:b.config.labelFontColor,"fill-opacity":b.config.hideMinMax||2==b.config.shape?"0":"1"}),b.txtMax.addClass(b.config.labelClass),setDy(b.txtMax,b.params.maxFontSize,b.params.maxY);var A=b.canvas.canvas.childNodes[1],B="http://www.w3.org/2000/svg";"undefined"!==ie&&9>ie||("undefined"!==ie?onCreateElementNsReady(function(){b.generateShadow(B,A)}):b.generateShadow(B,A)),B=null,b.originalValue=b.config.textRenderer?b.config.textRenderer(b.originalValue):b.config.humanFriendly?humanFriendlyNumber(b.originalValue,b.config.humanFriendlyDecimal)+b.config.symbol:b.config.formatNumber?formatNumber(b.originalValue)+b.config.symbol:(1*b.originalValue).toFixed(b.config.decimals)+b.config.symbol,b.config.counter===!0?(eve.on("raphael.anim.frame."+b.level.id,function(){var a=b.level.attr("pki");b.config.textRenderer?b.txtValue.attr("text",b.config.textRenderer(Math.floor(a[0]))):b.config.humanFriendly?b.txtValue.attr("text",humanFriendlyNumber(Math.floor(a[0]),b.config.humanFriendlyDecimal)+b.config.symbol):b.config.formatNumber?b.txtValue.attr("text",formatNumber(Math.floor(a[0]))+b.config.symbol):b.txtValue.attr("text",(1*a[0]).toFixed(b.config.decimals)+b.config.symbol),setDy(b.txtValue,b.params.valueFontSize,b.params.valueY),a=null}),eve.on("raphael.anim.finish."+b.level.id,function(){b.txtValue.attr({text:b.originalValue}),setDy(b.txtValue,b.params.valueFontSize,b.params.valueY)})):eve.on("raphael.anim.start."+b.level.id,function(){b.txtValue.attr({text:b.originalValue}),setDy(b.txtValue,b.params.valueFontSize,b.params.valueY)}),b.level.animate({pki:[b.config.value,b.config.min,b.config.max,b.params.widgetW,b.params.widgetH,b.params.dx,b.params.dy,b.config.gaugeWidthScale,b.config.shape]},b.config.startAnimationTime,b.config.startAnimationType),b.txtValue.animate({"fill-opacity":b.config.hideValue?"0":"1"},b.config.startAnimationTime,b.config.startAnimationType),b.txtLabel.animate({"fill-opacity":"1"},b.config.startAnimationTime,b.config.startAnimationType)},JustGage.prototype.kvLookup=function(a,b,c,d,e){var f=d,g=!1;if(null!==a&&void 0!==a&&(null!==c&&void 0!==c&&"object"==typeof c&&a in c?(f=c[a],g=!0):null!==b&&void 0!==b&&"object"==typeof b&&a in b?(f=b[a],g=!0):f=d,g===!0&&null!==e&&void 0!==e))switch(e){case"int":f=parseInt(f,10);break;case"float":f=parseFloat(f)}return f},JustGage.prototype.refresh=function(a,b){var c,d,e=this,b=b||null;null!==b&&(e.config.max=b,e.txtMaximum=e.config.max,e.config.humanFriendly?e.txtMaximum=humanFriendlyNumber(e.config.max,e.config.humanFriendlyDecimal):e.config.formatNumber&&(e.txtMaximum=formatNumber(e.config.max)),e.txtMax.attr({text:e.txtMaximum}),setDy(e.txtMax,e.params.maxFontSize,e.params.maxY)),c=a,1*a>1*e.config.max&&(a=1*e.config.max),1*a<1*e.config.min&&(a=1*e.config.min),d=getColor(a,(a-e.config.min)/(e.config.max-e.config.min),e.config.levelColors,e.config.noGradient,e.config.customSectors),c=e.config.textRenderer?e.config.textRenderer(c):e.config.humanFriendly?humanFriendlyNumber(c,e.config.humanFriendlyDecimal)+e.config.symbol:e.config.formatNumber?formatNumber((1*c).toFixed(e.config.decimals))+e.config.symbol:(1*c).toFixed(e.config.decimals)+e.config.symbol,e.originalValue=c,e.config.value=1*a,e.config.counter||(e.txtValue.attr({text:c}),setDy(e.txtValue,e.params.valueFontSize,e.params.valueY)),e.level.animate({pki:[e.config.value,e.config.min,e.config.max,e.params.widgetW,e.params.widgetH,e.params.dx,e.params.dy,e.config.gaugeWidthScale,e.config.shape],fill:d},e.config.refreshAnimationTime,e.config.refreshAnimationType),b=null},JustGage.prototype.generateShadow=function(a,b){var c,d,e,f,g,h,i,j=this;c=document.createElementNS(a,"filter"),c.setAttribute("id","inner-shadow"),b.appendChild(c),d=document.createElementNS(a,"feOffset"),d.setAttribute("dx",0),d.setAttribute("dy",j.config.shadowVerticalOffset),c.appendChild(d),e=document.createElementNS(a,"feGaussianBlur"),e.setAttribute("result","offset-blur"),e.setAttribute("stdDeviation",j.config.shadowSize),c.appendChild(e),f=document.createElementNS(a,"feComposite"),f.setAttribute("operator","out"),f.setAttribute("in","SourceGraphic"),f.setAttribute("in2","offset-blur"),f.setAttribute("result","inverse"),c.appendChild(f),g=document.createElementNS(a,"feFlood"),g.setAttribute("flood-color","black"),g.setAttribute("flood-opacity",j.config.shadowOpacity),g.setAttribute("result","color"),c.appendChild(g),h=document.createElementNS(a,"feComposite"),h.setAttribute("operator","in"),h.setAttribute("in","color"),h.setAttribute("in2","inverse"),h.setAttribute("result","shadow"),c.appendChild(h),i=document.createElementNS(a,"feComposite"),i.setAttribute("operator","over"),i.setAttribute("in","shadow"),i.setAttribute("in2","SourceGraphic"),c.appendChild(i),j.config.hideInnerShadow||(j.canvas.canvas.childNodes[2].setAttribute("filter","url(#inner-shadow)"),j.canvas.canvas.childNodes[3].setAttribute("filter","url(#inner-shadow)")),i=null};var ie=function(){for(var a,b=3,c=document.createElement("div"),d=c.getElementsByTagName("i");c.innerHTML="<!--[if gt IE "+ ++b+"]><i></i><![endif]-->",d[0];);return b>4?b:a}();